<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<style type="text/css">
pre { white-space: pre-wrap; }
.ef0,.f0 { color: #000000; } .eb0,.b0 { background-color: #000000; }
.ef1,.f1 { color: #AA0000; } .eb1,.b1 { background-color: #AA0000; }
.ef2,.f2 { color: #00AA00; } .eb2,.b2 { background-color: #00AA00; }
.ef3,.f3 { color: #AA5500; } .eb3,.b3 { background-color: #AA5500; }
.ef4,.f4 { color: #0000AA; } .eb4,.b4 { background-color: #0000AA; }
.ef5,.f5 { color: #AA00AA; } .eb5,.b5 { background-color: #AA00AA; }
.ef6,.f6 { color: #00AAAA; } .eb6,.b6 { background-color: #00AAAA; }
.ef7,.f7 { color: #AAAAAA; } .eb7,.b7 { background-color: #AAAAAA; }
.ef8, .f0 > .bold,.bold > .f0 { color: #555555; font-weight: normal; }
.ef9, .f1 > .bold,.bold > .f1 { color: #FF5555; font-weight: normal; }
.ef10,.f2 > .bold,.bold > .f2 { color: #55FF55; font-weight: normal; }
.ef11,.f3 > .bold,.bold > .f3 { color: #FFFF55; font-weight: normal; }
.ef12,.f4 > .bold,.bold > .f4 { color: #5555FF; font-weight: normal; }
.ef13,.f5 > .bold,.bold > .f5 { color: #FF55FF; font-weight: normal; }
.ef14,.f6 > .bold,.bold > .f6 { color: #55FFFF; font-weight: normal; }
.ef15,.f7 > .bold,.bold > .f7 { color: #FFFFFF; font-weight: normal; }
.eb8  { background-color: #555555; }
.eb9  { background-color: #FF5555; }
.eb10 { background-color: #55FF55; }
.eb11 { background-color: #FFFF55; }
.eb12 { background-color: #5555FF; }
.eb13 { background-color: #FF55FF; }
.eb14 { background-color: #55FFFF; }
.eb15 { background-color: #FFFFFF; }
.ef16 { color: #000000; } .eb16 { background-color: #000000; }
.ef17 { color: #00005f; } .eb17 { background-color: #00005f; }
.ef18 { color: #000087; } .eb18 { background-color: #000087; }
.ef19 { color: #0000af; } .eb19 { background-color: #0000af; }
.ef20 { color: #0000d7; } .eb20 { background-color: #0000d7; }
.ef21 { color: #0000ff; } .eb21 { background-color: #0000ff; }
.ef22 { color: #005f00; } .eb22 { background-color: #005f00; }
.ef23 { color: #005f5f; } .eb23 { background-color: #005f5f; }
.ef24 { color: #005f87; } .eb24 { background-color: #005f87; }
.ef25 { color: #005faf; } .eb25 { background-color: #005faf; }
.ef26 { color: #005fd7; } .eb26 { background-color: #005fd7; }
.ef27 { color: #005fff; } .eb27 { background-color: #005fff; }
.ef28 { color: #008700; } .eb28 { background-color: #008700; }
.ef29 { color: #00875f; } .eb29 { background-color: #00875f; }
.ef30 { color: #008787; } .eb30 { background-color: #008787; }
.ef31 { color: #0087af; } .eb31 { background-color: #0087af; }
.ef32 { color: #0087d7; } .eb32 { background-color: #0087d7; }
.ef33 { color: #0087ff; } .eb33 { background-color: #0087ff; }
.ef34 { color: #00af00; } .eb34 { background-color: #00af00; }
.ef35 { color: #00af5f; } .eb35 { background-color: #00af5f; }
.ef36 { color: #00af87; } .eb36 { background-color: #00af87; }
.ef37 { color: #00afaf; } .eb37 { background-color: #00afaf; }
.ef38 { color: #00afd7; } .eb38 { background-color: #00afd7; }
.ef39 { color: #00afff; } .eb39 { background-color: #00afff; }
.ef40 { color: #00d700; } .eb40 { background-color: #00d700; }
.ef41 { color: #00d75f; } .eb41 { background-color: #00d75f; }
.ef42 { color: #00d787; } .eb42 { background-color: #00d787; }
.ef43 { color: #00d7af; } .eb43 { background-color: #00d7af; }
.ef44 { color: #00d7d7; } .eb44 { background-color: #00d7d7; }
.ef45 { color: #00d7ff; } .eb45 { background-color: #00d7ff; }
.ef46 { color: #00ff00; } .eb46 { background-color: #00ff00; }
.ef47 { color: #00ff5f; } .eb47 { background-color: #00ff5f; }
.ef48 { color: #00ff87; } .eb48 { background-color: #00ff87; }
.ef49 { color: #00ffaf; } .eb49 { background-color: #00ffaf; }
.ef50 { color: #00ffd7; } .eb50 { background-color: #00ffd7; }
.ef51 { color: #00ffff; } .eb51 { background-color: #00ffff; }
.ef52 { color: #5f0000; } .eb52 { background-color: #5f0000; }
.ef53 { color: #5f005f; } .eb53 { background-color: #5f005f; }
.ef54 { color: #5f0087; } .eb54 { background-color: #5f0087; }
.ef55 { color: #5f00af; } .eb55 { background-color: #5f00af; }
.ef56 { color: #5f00d7; } .eb56 { background-color: #5f00d7; }
.ef57 { color: #5f00ff; } .eb57 { background-color: #5f00ff; }
.ef58 { color: #5f5f00; } .eb58 { background-color: #5f5f00; }
.ef59 { color: #5f5f5f; } .eb59 { background-color: #5f5f5f; }
.ef60 { color: #5f5f87; } .eb60 { background-color: #5f5f87; }
.ef61 { color: #5f5faf; } .eb61 { background-color: #5f5faf; }
.ef62 { color: #5f5fd7; } .eb62 { background-color: #5f5fd7; }
.ef63 { color: #5f5fff; } .eb63 { background-color: #5f5fff; }
.ef64 { color: #5f8700; } .eb64 { background-color: #5f8700; }
.ef65 { color: #5f875f; } .eb65 { background-color: #5f875f; }
.ef66 { color: #5f8787; } .eb66 { background-color: #5f8787; }
.ef67 { color: #5f87af; } .eb67 { background-color: #5f87af; }
.ef68 { color: #5f87d7; } .eb68 { background-color: #5f87d7; }
.ef69 { color: #5f87ff; } .eb69 { background-color: #5f87ff; }
.ef70 { color: #5faf00; } .eb70 { background-color: #5faf00; }
.ef71 { color: #5faf5f; } .eb71 { background-color: #5faf5f; }
.ef72 { color: #5faf87; } .eb72 { background-color: #5faf87; }
.ef73 { color: #5fafaf; } .eb73 { background-color: #5fafaf; }
.ef74 { color: #5fafd7; } .eb74 { background-color: #5fafd7; }
.ef75 { color: #5fafff; } .eb75 { background-color: #5fafff; }
.ef76 { color: #5fd700; } .eb76 { background-color: #5fd700; }
.ef77 { color: #5fd75f; } .eb77 { background-color: #5fd75f; }
.ef78 { color: #5fd787; } .eb78 { background-color: #5fd787; }
.ef79 { color: #5fd7af; } .eb79 { background-color: #5fd7af; }
.ef80 { color: #5fd7d7; } .eb80 { background-color: #5fd7d7; }
.ef81 { color: #5fd7ff; } .eb81 { background-color: #5fd7ff; }
.ef82 { color: #5fff00; } .eb82 { background-color: #5fff00; }
.ef83 { color: #5fff5f; } .eb83 { background-color: #5fff5f; }
.ef84 { color: #5fff87; } .eb84 { background-color: #5fff87; }
.ef85 { color: #5fffaf; } .eb85 { background-color: #5fffaf; }
.ef86 { color: #5fffd7; } .eb86 { background-color: #5fffd7; }
.ef87 { color: #5fffff; } .eb87 { background-color: #5fffff; }
.ef88 { color: #870000; } .eb88 { background-color: #870000; }
.ef89 { color: #87005f; } .eb89 { background-color: #87005f; }
.ef90 { color: #870087; } .eb90 { background-color: #870087; }
.ef91 { color: #8700af; } .eb91 { background-color: #8700af; }
.ef92 { color: #8700d7; } .eb92 { background-color: #8700d7; }
.ef93 { color: #8700ff; } .eb93 { background-color: #8700ff; }
.ef94 { color: #875f00; } .eb94 { background-color: #875f00; }
.ef95 { color: #875f5f; } .eb95 { background-color: #875f5f; }
.ef96 { color: #875f87; } .eb96 { background-color: #875f87; }
.ef97 { color: #875faf; } .eb97 { background-color: #875faf; }
.ef98 { color: #875fd7; } .eb98 { background-color: #875fd7; }
.ef99 { color: #875fff; } .eb99 { background-color: #875fff; }
.ef100 { color: #878700; } .eb100 { background-color: #878700; }
.ef101 { color: #87875f; } .eb101 { background-color: #87875f; }
.ef102 { color: #878787; } .eb102 { background-color: #878787; }
.ef103 { color: #8787af; } .eb103 { background-color: #8787af; }
.ef104 { color: #8787d7; } .eb104 { background-color: #8787d7; }
.ef105 { color: #8787ff; } .eb105 { background-color: #8787ff; }
.ef106 { color: #87af00; } .eb106 { background-color: #87af00; }
.ef107 { color: #87af5f; } .eb107 { background-color: #87af5f; }
.ef108 { color: #87af87; } .eb108 { background-color: #87af87; }
.ef109 { color: #87afaf; } .eb109 { background-color: #87afaf; }
.ef110 { color: #87afd7; } .eb110 { background-color: #87afd7; }
.ef111 { color: #87afff; } .eb111 { background-color: #87afff; }
.ef112 { color: #87d700; } .eb112 { background-color: #87d700; }
.ef113 { color: #87d75f; } .eb113 { background-color: #87d75f; }
.ef114 { color: #87d787; } .eb114 { background-color: #87d787; }
.ef115 { color: #87d7af; } .eb115 { background-color: #87d7af; }
.ef116 { color: #87d7d7; } .eb116 { background-color: #87d7d7; }
.ef117 { color: #87d7ff; } .eb117 { background-color: #87d7ff; }
.ef118 { color: #87ff00; } .eb118 { background-color: #87ff00; }
.ef119 { color: #87ff5f; } .eb119 { background-color: #87ff5f; }
.ef120 { color: #87ff87; } .eb120 { background-color: #87ff87; }
.ef121 { color: #87ffaf; } .eb121 { background-color: #87ffaf; }
.ef122 { color: #87ffd7; } .eb122 { background-color: #87ffd7; }
.ef123 { color: #87ffff; } .eb123 { background-color: #87ffff; }
.ef124 { color: #af0000; } .eb124 { background-color: #af0000; }
.ef125 { color: #af005f; } .eb125 { background-color: #af005f; }
.ef126 { color: #af0087; } .eb126 { background-color: #af0087; }
.ef127 { color: #af00af; } .eb127 { background-color: #af00af; }
.ef128 { color: #af00d7; } .eb128 { background-color: #af00d7; }
.ef129 { color: #af00ff; } .eb129 { background-color: #af00ff; }
.ef130 { color: #af5f00; } .eb130 { background-color: #af5f00; }
.ef131 { color: #af5f5f; } .eb131 { background-color: #af5f5f; }
.ef132 { color: #af5f87; } .eb132 { background-color: #af5f87; }
.ef133 { color: #af5faf; } .eb133 { background-color: #af5faf; }
.ef134 { color: #af5fd7; } .eb134 { background-color: #af5fd7; }
.ef135 { color: #af5fff; } .eb135 { background-color: #af5fff; }
.ef136 { color: #af8700; } .eb136 { background-color: #af8700; }
.ef137 { color: #af875f; } .eb137 { background-color: #af875f; }
.ef138 { color: #af8787; } .eb138 { background-color: #af8787; }
.ef139 { color: #af87af; } .eb139 { background-color: #af87af; }
.ef140 { color: #af87d7; } .eb140 { background-color: #af87d7; }
.ef141 { color: #af87ff; } .eb141 { background-color: #af87ff; }
.ef142 { color: #afaf00; } .eb142 { background-color: #afaf00; }
.ef143 { color: #afaf5f; } .eb143 { background-color: #afaf5f; }
.ef144 { color: #afaf87; } .eb144 { background-color: #afaf87; }
.ef145 { color: #afafaf; } .eb145 { background-color: #afafaf; }
.ef146 { color: #afafd7; } .eb146 { background-color: #afafd7; }
.ef147 { color: #afafff; } .eb147 { background-color: #afafff; }
.ef148 { color: #afd700; } .eb148 { background-color: #afd700; }
.ef149 { color: #afd75f; } .eb149 { background-color: #afd75f; }
.ef150 { color: #afd787; } .eb150 { background-color: #afd787; }
.ef151 { color: #afd7af; } .eb151 { background-color: #afd7af; }
.ef152 { color: #afd7d7; } .eb152 { background-color: #afd7d7; }
.ef153 { color: #afd7ff; } .eb153 { background-color: #afd7ff; }
.ef154 { color: #afff00; } .eb154 { background-color: #afff00; }
.ef155 { color: #afff5f; } .eb155 { background-color: #afff5f; }
.ef156 { color: #afff87; } .eb156 { background-color: #afff87; }
.ef157 { color: #afffaf; } .eb157 { background-color: #afffaf; }
.ef158 { color: #afffd7; } .eb158 { background-color: #afffd7; }
.ef159 { color: #afffff; } .eb159 { background-color: #afffff; }
.ef160 { color: #d70000; } .eb160 { background-color: #d70000; }
.ef161 { color: #d7005f; } .eb161 { background-color: #d7005f; }
.ef162 { color: #d70087; } .eb162 { background-color: #d70087; }
.ef163 { color: #d700af; } .eb163 { background-color: #d700af; }
.ef164 { color: #d700d7; } .eb164 { background-color: #d700d7; }
.ef165 { color: #d700ff; } .eb165 { background-color: #d700ff; }
.ef166 { color: #d75f00; } .eb166 { background-color: #d75f00; }
.ef167 { color: #d75f5f; } .eb167 { background-color: #d75f5f; }
.ef168 { color: #d75f87; } .eb168 { background-color: #d75f87; }
.ef169 { color: #d75faf; } .eb169 { background-color: #d75faf; }
.ef170 { color: #d75fd7; } .eb170 { background-color: #d75fd7; }
.ef171 { color: #d75fff; } .eb171 { background-color: #d75fff; }
.ef172 { color: #d78700; } .eb172 { background-color: #d78700; }
.ef173 { color: #d7875f; } .eb173 { background-color: #d7875f; }
.ef174 { color: #d78787; } .eb174 { background-color: #d78787; }
.ef175 { color: #d787af; } .eb175 { background-color: #d787af; }
.ef176 { color: #d787d7; } .eb176 { background-color: #d787d7; }
.ef177 { color: #d787ff; } .eb177 { background-color: #d787ff; }
.ef178 { color: #d7af00; } .eb178 { background-color: #d7af00; }
.ef179 { color: #d7af5f; } .eb179 { background-color: #d7af5f; }
.ef180 { color: #d7af87; } .eb180 { background-color: #d7af87; }
.ef181 { color: #d7afaf; } .eb181 { background-color: #d7afaf; }
.ef182 { color: #d7afd7; } .eb182 { background-color: #d7afd7; }
.ef183 { color: #d7afff; } .eb183 { background-color: #d7afff; }
.ef184 { color: #d7d700; } .eb184 { background-color: #d7d700; }
.ef185 { color: #d7d75f; } .eb185 { background-color: #d7d75f; }
.ef186 { color: #d7d787; } .eb186 { background-color: #d7d787; }
.ef187 { color: #d7d7af; } .eb187 { background-color: #d7d7af; }
.ef188 { color: #d7d7d7; } .eb188 { background-color: #d7d7d7; }
.ef189 { color: #d7d7ff; } .eb189 { background-color: #d7d7ff; }
.ef190 { color: #d7ff00; } .eb190 { background-color: #d7ff00; }
.ef191 { color: #d7ff5f; } .eb191 { background-color: #d7ff5f; }
.ef192 { color: #d7ff87; } .eb192 { background-color: #d7ff87; }
.ef193 { color: #d7ffaf; } .eb193 { background-color: #d7ffaf; }
.ef194 { color: #d7ffd7; } .eb194 { background-color: #d7ffd7; }
.ef195 { color: #d7ffff; } .eb195 { background-color: #d7ffff; }
.ef196 { color: #ff0000; } .eb196 { background-color: #ff0000; }
.ef197 { color: #ff005f; } .eb197 { background-color: #ff005f; }
.ef198 { color: #ff0087; } .eb198 { background-color: #ff0087; }
.ef199 { color: #ff00af; } .eb199 { background-color: #ff00af; }
.ef200 { color: #ff00d7; } .eb200 { background-color: #ff00d7; }
.ef201 { color: #ff00ff; } .eb201 { background-color: #ff00ff; }
.ef202 { color: #ff5f00; } .eb202 { background-color: #ff5f00; }
.ef203 { color: #ff5f5f; } .eb203 { background-color: #ff5f5f; }
.ef204 { color: #ff5f87; } .eb204 { background-color: #ff5f87; }
.ef205 { color: #ff5faf; } .eb205 { background-color: #ff5faf; }
.ef206 { color: #ff5fd7; } .eb206 { background-color: #ff5fd7; }
.ef207 { color: #ff5fff; } .eb207 { background-color: #ff5fff; }
.ef208 { color: #ff8700; } .eb208 { background-color: #ff8700; }
.ef209 { color: #ff875f; } .eb209 { background-color: #ff875f; }
.ef210 { color: #ff8787; } .eb210 { background-color: #ff8787; }
.ef211 { color: #ff87af; } .eb211 { background-color: #ff87af; }
.ef212 { color: #ff87d7; } .eb212 { background-color: #ff87d7; }
.ef213 { color: #ff87ff; } .eb213 { background-color: #ff87ff; }
.ef214 { color: #ffaf00; } .eb214 { background-color: #ffaf00; }
.ef215 { color: #ffaf5f; } .eb215 { background-color: #ffaf5f; }
.ef216 { color: #ffaf87; } .eb216 { background-color: #ffaf87; }
.ef217 { color: #ffafaf; } .eb217 { background-color: #ffafaf; }
.ef218 { color: #ffafd7; } .eb218 { background-color: #ffafd7; }
.ef219 { color: #ffafff; } .eb219 { background-color: #ffafff; }
.ef220 { color: #ffd700; } .eb220 { background-color: #ffd700; }
.ef221 { color: #ffd75f; } .eb221 { background-color: #ffd75f; }
.ef222 { color: #ffd787; } .eb222 { background-color: #ffd787; }
.ef223 { color: #ffd7af; } .eb223 { background-color: #ffd7af; }
.ef224 { color: #ffd7d7; } .eb224 { background-color: #ffd7d7; }
.ef225 { color: #ffd7ff; } .eb225 { background-color: #ffd7ff; }
.ef226 { color: #ffff00; } .eb226 { background-color: #ffff00; }
.ef227 { color: #ffff5f; } .eb227 { background-color: #ffff5f; }
.ef228 { color: #ffff87; } .eb228 { background-color: #ffff87; }
.ef229 { color: #ffffaf; } .eb229 { background-color: #ffffaf; }
.ef230 { color: #ffffd7; } .eb230 { background-color: #ffffd7; }
.ef231 { color: #ffffff; } .eb231 { background-color: #ffffff; }
.ef232 { color: #080808; } .eb232 { background-color: #080808; }
.ef233 { color: #121212; } .eb233 { background-color: #121212; }
.ef234 { color: #1c1c1c; } .eb234 { background-color: #1c1c1c; }
.ef235 { color: #262626; } .eb235 { background-color: #262626; }
.ef236 { color: #303030; } .eb236 { background-color: #303030; }
.ef237 { color: #3a3a3a; } .eb237 { background-color: #3a3a3a; }
.ef238 { color: #444444; } .eb238 { background-color: #444444; }
.ef239 { color: #4e4e4e; } .eb239 { background-color: #4e4e4e; }
.ef240 { color: #585858; } .eb240 { background-color: #585858; }
.ef241 { color: #626262; } .eb241 { background-color: #626262; }
.ef242 { color: #6c6c6c; } .eb242 { background-color: #6c6c6c; }
.ef243 { color: #767676; } .eb243 { background-color: #767676; }
.ef244 { color: #808080; } .eb244 { background-color: #808080; }
.ef245 { color: #8a8a8a; } .eb245 { background-color: #8a8a8a; }
.ef246 { color: #949494; } .eb246 { background-color: #949494; }
.ef247 { color: #9e9e9e; } .eb247 { background-color: #9e9e9e; }
.ef248 { color: #a8a8a8; } .eb248 { background-color: #a8a8a8; }
.ef249 { color: #b2b2b2; } .eb249 { background-color: #b2b2b2; }
.ef250 { color: #bcbcbc; } .eb250 { background-color: #bcbcbc; }
.ef251 { color: #c6c6c6; } .eb251 { background-color: #c6c6c6; }
.ef252 { color: #d0d0d0; } .eb252 { background-color: #d0d0d0; }
.ef253 { color: #dadada; } .eb253 { background-color: #dadada; }
.ef254 { color: #e4e4e4; } .eb254 { background-color: #e4e4e4; }
.ef255 { color: #eeeeee; } .eb255 { background-color: #eeeeee; }

.f9 { color: #000000; }
.b9 { background-color: #FFFFFF; }
.f9 > .bold,.bold > .f9, body.f9 > pre > .bold {
  /* Bold is heavy black on white, or bright white
     depending on the default background */
  color: #000000;
  font-weight: bold;
}
.reverse {
  /* CSS does not support swapping fg and bg colours unfortunately,
     so just hardcode something that will look OK on all backgrounds. */
  color: #000000; background-color: #AAAAAA;
}
.underline { text-decoration: underline; }
.line-through { text-decoration: line-through; }
.blink { text-decoration: blink; }

/* Avoid pixels between adjacent span elements.
   Note this only works for lines less than 80 chars
   where we close span elements on the same line.
span { display: inline-block; }
*/
</style>
</head>

<body class="f9 b9">
<pre>
<span class="f3">commit 05cf2b27e37b5ce805b881d6b869192ca1e6d571</span>
Author: Lu.Mao &lt;lu.mao@molex.com&gt;
Date:   Thu Nov 9 00:11:42 2023 -0800

    Support SONiC OT

<span class="bold">diff --git a/debian/libsaimetadata-dev.install b/debian/libsaimetadata-dev.install
index 877842e..5898288 100644</span>
<span class="bold">--- a/debian/libsaimetadata-dev.install</span>
<span class="bold">+++ b/debian/libsaimetadata-dev.install</span>
<span class="f6">@@ -1,5 +1,6 @@</span>
 meta/sai*.h usr/include/sai
 meta/Sai*.h usr/include/sai
 SAI/meta/sai*.h usr/include/sai
<span class="f2">+meta/otai*.h usr/include/sai</span>
 usr/lib/*/libsaimetadata.so
 usr/lib/*/libsaimeta.so
<span class="bold">diff --git a/lib/Makefile.am b/lib/Makefile.am</span>
<span class="bold">index 46471b8..de93f1b 100644</span>
<span class="bold">--- a/lib/Makefile.am</span>
<span class="bold">+++ b/lib/Makefile.am</span>
<span class="f6">@@ -90,7 +90,12 @@</span> libsairedis_la_SOURCES = \
 						 sai_redis_ars.cpp \
 						 sai_redis_ars_profile.cpp \
 						 sai_redis_twamp.cpp \
<span class="f1">-						 sai_redis_dash_meter.cpp</span>
<span class="f2">+</span>						<span class="f2"> sai_redis_dash_meter.cpp \</span>
<span class="f2">+</span>						<span class="f2"> redis_otai_attenuator.cpp \</span>
<span class="f2">+</span>						<span class="f2"> redis_otai_oa.cpp \</span>
<span class="f2">+</span>						<span class="f2"> redis_otai_ocm.cpp \</span>
<span class="f2">+</span>						<span class="f2"> redis_otai_osc.cpp \</span>
<span class="f2">+</span>						<span class="f2"> redis_otai_otdr.cpp</span>
 
 libSaiRedis_a_CPPFLAGS = $(CODE_COVERAGE_CPPFLAGS)
 libSaiRedis_a_CXXFLAGS = $(DBGFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS_COMMON) $(CODE_COVERAGE_CXXFLAGS)
<span class="bold">diff --git a/lib/otai_api.h b/lib/otai_api.h</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..a709e60</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/lib/otai_api.h</span>
<span class="f6">@@ -0,0 +1,22 @@</span>
<span class="f2">+#pragma once</span>
<span class="f2">+</span>
<span class="f2">+extern &quot;C&quot; {</span>
<span class="f2">+#include &quot;sai.h&quot;</span>
<span class="f2">+#include &quot;saiextensions.h&quot;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+#define OTAI_API_DECLARE(type) \</span>
<span class="f2">+PRIVATE extern const sai_otai_attenuator_api_t              type ## _otai_attenuator_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_oa_api_t                      type ## _otai_oa_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_ocm_api_t                     type ## _otai_ocm_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_osc_api_t                     type ## _otai_osc_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_otdr_api_t                    type ## _otai_otdr_api;</span>
<span class="f2">+</span>
<span class="f2">+</span>
<span class="f2">+#define OTAI_API_BIND() \</span>
<span class="f2">+    API(otai_attenuator),\</span>
<span class="f2">+    API(otai_oa),\</span>
<span class="f2">+    API(otai_ocm),\</span>
<span class="f2">+    API(otai_osc),\</span>
<span class="f2">+    API(otai_otdr),</span>
<span class="f2">+</span>
<span class="bold">diff --git a/lib/redis_otai_attenuator.cpp b/lib/redis_otai_attenuator.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..064eb67</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/lib/redis_otai_attenuator.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;lib/sai_redis.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+REDIS_GENERIC_QUAD(OTAI_ATTENUATOR,otai_attenuator);</span>
<span class="f2">+REDIS_GENERIC_STATS(OTAI_ATTENUATOR,otai_attenuator);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_attenuator_api_t redis_otai_attenuator_api = {</span>
<span class="f2">+</span>
<span class="f2">+    REDIS_GENERIC_QUAD_API(otai_attenuator)</span>
<span class="f2">+    REDIS_GENERIC_STATS_API(otai_attenuator)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/lib/redis_otai_oa.cpp b/lib/redis_otai_oa.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..c982883</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/lib/redis_otai_oa.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;lib/sai_redis.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+REDIS_GENERIC_QUAD(OTAI_OA,otai_oa);</span>
<span class="f2">+REDIS_GENERIC_STATS(OTAI_OA,otai_oa);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_oa_api_t redis_otai_oa_api = {</span>
<span class="f2">+</span>
<span class="f2">+    REDIS_GENERIC_QUAD_API(otai_oa)</span>
<span class="f2">+    REDIS_GENERIC_STATS_API(otai_oa)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/lib/redis_otai_ocm.cpp b/lib/redis_otai_ocm.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..44cad8c</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/lib/redis_otai_ocm.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;lib/sai_redis.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+REDIS_GENERIC_QUAD(OTAI_OCM,otai_ocm);</span>
<span class="f2">+REDIS_GENERIC_STATS(OTAI_OCM,otai_ocm);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_ocm_api_t redis_otai_ocm_api = {</span>
<span class="f2">+</span>
<span class="f2">+    REDIS_GENERIC_QUAD_API(otai_ocm)</span>
<span class="f2">+    REDIS_GENERIC_STATS_API(otai_ocm)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/lib/redis_otai_osc.cpp b/lib/redis_otai_osc.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..1a21ef9</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/lib/redis_otai_osc.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;lib/sai_redis.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+REDIS_GENERIC_QUAD(OTAI_OSC,otai_osc);</span>
<span class="f2">+REDIS_GENERIC_STATS(OTAI_OSC,otai_osc);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_osc_api_t redis_otai_osc_api = {</span>
<span class="f2">+</span>
<span class="f2">+    REDIS_GENERIC_QUAD_API(otai_osc)</span>
<span class="f2">+    REDIS_GENERIC_STATS_API(otai_osc)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/lib/redis_otai_otdr.cpp b/lib/redis_otai_otdr.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..cdf348f</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/lib/redis_otai_otdr.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;lib/sai_redis.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+REDIS_GENERIC_QUAD(OTAI_OTDR,otai_otdr);</span>
<span class="f2">+REDIS_GENERIC_STATS(OTAI_OTDR,otai_otdr);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_otdr_api_t redis_otai_otdr_api = {</span>
<span class="f2">+</span>
<span class="f2">+    REDIS_GENERIC_QUAD_API(otai_otdr)</span>
<span class="f2">+    REDIS_GENERIC_STATS_API(otai_otdr)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/lib/sai_redis.h b/lib/sai_redis.h</span>
<span class="bold">index 061ef28..374f696 100644</span>
<span class="bold">--- a/lib/sai_redis.h</span>
<span class="bold">+++ b/lib/sai_redis.h</span>
<span class="f6">@@ -6,6 +6,7 @@</span> extern &quot;C&quot; {
 }
 
 #include &quot;meta/SaiInterface.h&quot;
<span class="f2">+#include &quot;otai_api.h&quot;</span>
 
 #include &quot;swss/logger.h&quot;
 
<span class="f6">@@ -75,6 +76,8 @@</span> PRIVATE extern const sai_ipsec_api_t                   redis_ipsec_api;
 PRIVATE extern const sai_twamp_api_t                   redis_twamp_api;
 PRIVATE extern const sai_dash_meter_api_t              redis_dash_meter_api;
 
<span class="f2">+OTAI_API_DECLARE(redis);</span>
<span class="f2">+</span>
 PRIVATE extern std::shared_ptr&lt;sairedis::SaiInterface&gt;   redis_sai;
 
 // QUAD OID
<span class="bold">diff --git a/lib/sai_redis_interfacequery.cpp b/lib/sai_redis_interfacequery.cpp</span>
<span class="bold">index e18c084..8b1ac94 100644</span>
<span class="bold">--- a/lib/sai_redis_interfacequery.cpp</span>
<span class="bold">+++ b/lib/sai_redis_interfacequery.cpp</span>
<span class="f6">@@ -94,6 +94,7 @@</span> static sai_apis_t redis_apis = {
     API(dash_vnet),
     API(dash_pa_validation),
     API(dash_vip),
<span class="f2">+    OTAI_API_BIND()</span>
 };
 
 static_assert((sizeof(sai_apis_t)/sizeof(void*)) == (SAI_API_EXTENSIONS_MAX - 1));
<span class="bold">diff --git a/meta/Makefile.am b/meta/Makefile.am</span>
<span class="bold">index c2de85b..1298203 100644</span>
<span class="bold">--- a/meta/Makefile.am</span>
<span class="bold">+++ b/meta/Makefile.am</span>
<span class="f6">@@ -47,7 +47,8 @@</span> libsaimeta_la_SOURCES = \
 				SaiObjectCollection.cpp \
 				SaiSerialize.cpp \
 				SelectableChannel.cpp \
<span class="f1">-				ZeroMQSelectableChannel.cpp</span>
<span class="f2">+</span>				<span class="f2">ZeroMQSelectableChannel.cpp \</span>
<span class="f2">+</span>				<span class="f2">otai_serialize.cpp</span>
 
 libsaimeta_la_CPPFLAGS = $(CODE_COVERAGE_CPPFLAGS)
 libsaimeta_la_CXXFLAGS = $(DBGFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS_COMMON) $(CODE_COVERAGE_CXXFLAGS)
<span class="bold">diff --git a/meta/Meta.cpp b/meta/Meta.cpp</span>
<span class="bold">index db1c6cc..f60667b 100644</span>
<span class="bold">--- a/meta/Meta.cpp</span>
<span class="bold">+++ b/meta/Meta.cpp</span>
<span class="f6">@@ -1783,6 +1783,7 @@</span> void Meta::meta_generic_validation_post_remove(
             case SAI_ATTR_VALUE_TYPE_INT32:
             case SAI_ATTR_VALUE_TYPE_UINT64:
             case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+            case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
             case SAI_ATTR_VALUE_TYPE_MAC:
             case SAI_ATTR_VALUE_TYPE_IPV4:
             case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="f6">@@ -3929,6 +3930,7 @@</span> sai_status_t Meta::meta_generic_validation_set(
         case SAI_ATTR_VALUE_TYPE_INT32:
         case SAI_ATTR_VALUE_TYPE_UINT64:
         case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+        case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
         case SAI_ATTR_VALUE_TYPE_MAC:
         case SAI_ATTR_VALUE_TYPE_IPV4:
         case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="f6">@@ -4440,6 +4442,7 @@</span> sai_status_t Meta::meta_generic_validation_get(
             case SAI_ATTR_VALUE_TYPE_INT32:
             case SAI_ATTR_VALUE_TYPE_UINT64:
             case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+            case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
             case SAI_ATTR_VALUE_TYPE_MAC:
             case SAI_ATTR_VALUE_TYPE_IPV4:
             case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="f6">@@ -4685,6 +4688,7 @@</span> void Meta::meta_generic_validation_post_get(
             case SAI_ATTR_VALUE_TYPE_INT32:
             case SAI_ATTR_VALUE_TYPE_UINT64:
             case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+            case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
             case SAI_ATTR_VALUE_TYPE_MAC:
             case SAI_ATTR_VALUE_TYPE_IPV4:
             case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="f6">@@ -5643,6 +5647,7 @@</span> void Meta::meta_generic_validation_post_create(
             case SAI_ATTR_VALUE_TYPE_INT32:
             case SAI_ATTR_VALUE_TYPE_UINT64:
             case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+            case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
             case SAI_ATTR_VALUE_TYPE_MAC:
             case SAI_ATTR_VALUE_TYPE_IPV4:
             case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="f6">@@ -5823,6 +5828,7 @@</span> void Meta::meta_generic_validation_post_set(
         case SAI_ATTR_VALUE_TYPE_INT32:
         case SAI_ATTR_VALUE_TYPE_UINT64:
         case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+        case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
         case SAI_ATTR_VALUE_TYPE_MAC:
         case SAI_ATTR_VALUE_TYPE_IPV4:
         case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="bold">diff --git a/meta/SaiSerialize.cpp b/meta/SaiSerialize.cpp</span>
<span class="bold">index af03952..1fd693e 100644</span>
<span class="bold">--- a/meta/SaiSerialize.cpp</span>
<span class="bold">+++ b/meta/SaiSerialize.cpp</span>
<span class="f6">@@ -174,6 +174,10 @@</span> sai_status_t transfer_attribute(
 //            transfer_primitive(src_attr.value.s64, dst_attr.value.s64);
 //            break;
 
<span class="f2">+        case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
<span class="f2">+            transfer_primitive(src_attr.value.d64, dst_attr.value.d64);</span>
<span class="f2">+            break;</span>
<span class="f2">+</span>
         case SAI_ATTR_VALUE_TYPE_MAC:
             transfer_primitive(src_attr.value.mac, dst_attr.value.mac);
             break;
<span class="f6">@@ -739,6 +743,34 @@</span> std::string sai_serialize_number(
     return sai_serialize_number&lt;uint32_t&gt;(number, hex);
 }
 
<span class="f2">+std::string sai_serialize_decimal(</span>
<span class="f2">+        _In_ const double value,</span>
<span class="f2">+        _In_ int precision)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    std::ostringstream stream;</span>
<span class="f2">+    stream &lt;&lt; std::fixed &lt;&lt; std::setprecision(precision) &lt;&lt; value;</span>
<span class="f2">+</span>
<span class="f2">+    std::string str = stream.str();</span>
<span class="f2">+    if (str.find('.') != std::string::npos)</span>
<span class="f2">+    {</span>
<span class="f2">+        // remove trailing zeroes</span>
<span class="f2">+        str = str.substr(0, str.find_last_not_of('0') + 1);</span>
<span class="f2">+        // if the decimal point is now the last character, add a zero at the end</span>
<span class="f2">+        if (str.find('.') == str.size() - 1)</span>
<span class="f2">+        {</span>
<span class="f2">+            str = str + &quot;0&quot;;</span>
<span class="f2">+        }</span>
<span class="f2">+    }</span>
<span class="f2">+    else</span>
<span class="f2">+    {</span>
<span class="f2">+        str = str + &quot;.0&quot;;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    return str;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
 std::string sai_serialize_attr_id(
         _In_ const sai_attr_metadata_t&amp; meta)
 {
<span class="f6">@@ -1940,6 +1972,9 @@</span> std::string sai_serialize_attr_value(
 //        case SAI_ATTR_VALUE_TYPE_INT64:
 //            return sai_serialize_number(attr.value.s64);
 
<span class="f2">+        case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
<span class="f2">+            return sai_serialize_decimal(attr.value.d64);</span>
<span class="f2">+</span>
         case SAI_ATTR_VALUE_TYPE_MAC:
             return sai_serialize_mac(attr.value.mac);
 
<span class="f6">@@ -2695,6 +2730,16 @@</span> void sai_deserialize_number(
     sai_deserialize_number&lt;uint32_t&gt;(s, number, hex);
 }
 
<span class="f2">+void sai_deserialize_decimal(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ double&amp; value)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    char *endptr = NULL;</span>
<span class="f2">+    value = strtod(s.c_str(), &amp;endptr);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
 void sai_deserialize_enum(
         _In_ const std::string&amp; s,
         _In_ const sai_enum_metadata_t *meta,
<span class="f6">@@ -3731,6 +3776,9 @@</span> void sai_deserialize_attr_value(
 //        case SAI_ATTR_VALUE_TYPE_INT64:
 //            return sai_deserialize_number(s, attr.value.s64);
 
<span class="f2">+        case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
<span class="f2">+            return sai_deserialize_decimal(s, attr.value.d64);</span>
<span class="f2">+</span>
         case SAI_ATTR_VALUE_TYPE_MAC:
             return sai_deserialize_mac(s, attr.value.mac);
 
<span class="f6">@@ -4659,6 +4707,7 @@</span> void sai_deserialize_free_attribute_value(
         case SAI_ATTR_VALUE_TYPE_INT32:
         case SAI_ATTR_VALUE_TYPE_UINT64:
         case SAI_ATTR_VALUE_TYPE_INT64:
<span class="f2">+        case SAI_ATTR_VALUE_TYPE_DOUBLE:</span>
         case SAI_ATTR_VALUE_TYPE_MAC:
         case SAI_ATTR_VALUE_TYPE_IPV4:
         case SAI_ATTR_VALUE_TYPE_IPV6:
<span class="bold">diff --git a/meta/otai_serialize.cpp b/meta/otai_serialize.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..6003cb0</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/meta/otai_serialize.cpp</span>
<span class="f6">@@ -0,0 +1,127 @@</span>
<span class="f2">+#include &quot;otai_serialize.h&quot;</span>
<span class="f2">+#include &quot;meta/sai_serialize.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_attenuator_attr(</span>
<span class="f2">+        _In_ const sai_otai_attenuator_attr_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_attenuator_attr_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_attenuator_stat(</span>
<span class="f2">+        _In_ const sai_otai_attenuator_stat_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_attenuator_stat_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_attenuator_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_attenuator_attr_t&amp; attr)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_deserialize_enum(s, &amp;sai_metadata_enum_sai_otai_attenuator_attr_t, (int32_t&amp;)attr);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_oa_attr(</span>
<span class="f2">+        _In_ const sai_otai_oa_attr_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_oa_attr_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_oa_stat(</span>
<span class="f2">+        _In_ const sai_otai_oa_stat_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_oa_stat_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_oa_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_oa_attr_t&amp; attr)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_deserialize_enum(s, &amp;sai_metadata_enum_sai_otai_oa_attr_t, (int32_t&amp;)attr);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_ocm_attr(</span>
<span class="f2">+        _In_ const sai_otai_ocm_attr_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_ocm_attr_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_ocm_stat(</span>
<span class="f2">+        _In_ const sai_otai_ocm_stat_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_ocm_stat_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_ocm_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_ocm_attr_t&amp; attr)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_deserialize_enum(s, &amp;sai_metadata_enum_sai_otai_ocm_attr_t, (int32_t&amp;)attr);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_osc_attr(</span>
<span class="f2">+        _In_ const sai_otai_osc_attr_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_osc_attr_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_osc_stat(</span>
<span class="f2">+        _In_ const sai_otai_osc_stat_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_osc_stat_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_osc_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_osc_attr_t&amp; attr)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_deserialize_enum(s, &amp;sai_metadata_enum_sai_otai_osc_attr_t, (int32_t&amp;)attr);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_otdr_attr(</span>
<span class="f2">+        _In_ const sai_otai_otdr_attr_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_otdr_attr_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_otdr_stat(</span>
<span class="f2">+        _In_ const sai_otai_otdr_stat_t counter)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    return sai_serialize_enum(counter, &amp;sai_metadata_enum_sai_otai_otdr_stat_t);</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_otdr_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_otdr_attr_t&amp; attr)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_deserialize_enum(s, &amp;sai_metadata_enum_sai_otai_otdr_attr_t, (int32_t&amp;)attr);</span>
<span class="f2">+}</span>
\ No newline at end of file
<span class="bold">diff --git a/meta/otai_serialize.h b/meta/otai_serialize.h</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..627fce5</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/meta/otai_serialize.h</span>
<span class="f6">@@ -0,0 +1,63 @@</span>
<span class="f2">+#pragma once</span>
<span class="f2">+</span>
<span class="f2">+extern &quot;C&quot; {</span>
<span class="f2">+#include &quot;sai.h&quot;</span>
<span class="f2">+#include &quot;saimetadata.h&quot;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+#include &lt;string&gt;</span>
<span class="f2">+</span>
<span class="f2">+// attenuator</span>
<span class="f2">+std::string sai_serialize_otai_attenuator_attr(</span>
<span class="f2">+        _In_ const sai_otai_attenuator_attr_t counter);</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_attenuator_stat(</span>
<span class="f2">+        _In_ const sai_otai_attenuator_stat_t counter);</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_attenuator_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_attenuator_attr_t&amp; attr);</span>
<span class="f2">+</span>
<span class="f2">+// oa</span>
<span class="f2">+std::string sai_serialize_otai_otdr_attr(</span>
<span class="f2">+        _In_ const sai_otai_oa_attr_t counter);</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_oa_stat(</span>
<span class="f2">+        _In_ const sai_otai_oa_stat_t counter);</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_oa_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_oa_attr_t&amp; attr);</span>
<span class="f2">+</span>
<span class="f2">+// ocm</span>
<span class="f2">+std::string sai_serialize_otai_ocm_attr(</span>
<span class="f2">+        _In_ const sai_otai_ocm_attr_t counter);</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_ocm_stat(</span>
<span class="f2">+        _In_ const sai_otai_ocm_stat_t counter);</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_ocm_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_ocm_attr_t&amp; attr);</span>
<span class="f2">+</span>
<span class="f2">+// osc</span>
<span class="f2">+std::string sai_serialize_otai_osc_attr(</span>
<span class="f2">+        _In_ const sai_otai_osc_attr_t counter);</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_osc_stat(</span>
<span class="f2">+        _In_ const sai_otai_osc_stat_t counter);</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_osc_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_osc_attr_t&amp; attr);</span>
<span class="f2">+</span>
<span class="f2">+// otdr</span>
<span class="f2">+std::string sai_serialize_otai_otdr_attr(</span>
<span class="f2">+        _In_ const sai_otai_otdr_attr_t counter);</span>
<span class="f2">+</span>
<span class="f2">+std::string sai_serialize_otai_otdr_stat(</span>
<span class="f2">+        _In_ const sai_otai_otdr_stat_t counter);</span>
<span class="f2">+</span>
<span class="f2">+void sai_deserialize_otai_otdr_attr(</span>
<span class="f2">+        _In_ const std::string&amp; s,</span>
<span class="f2">+        _Out_ sai_otai_otdr_attr_t&amp; attr);</span>
\ No newline at end of file
<span class="bold">diff --git a/meta/sai_serialize.h b/meta/sai_serialize.h</span>
<span class="bold">index ea6a524..1879e3d 100644</span>
<span class="bold">--- a/meta/sai_serialize.h</span>
<span class="bold">+++ b/meta/sai_serialize.h</span>
<span class="f6">@@ -220,6 +220,10 @@</span> std::string sai_serialize_number(
         _In_ uint32_t number,
         _In_ bool hex = false);
 
<span class="f2">+std::string sai_serialize_decimal(</span>
<span class="f2">+        _In_ const double value,</span>
<span class="f2">+        _In_ int precision = 2);</span>
<span class="f2">+</span>
 std::string sai_serialize_attr_id(
         _In_ const sai_attr_metadata_t&amp; meta);
 
<span class="bold">diff --git a/syncd/FlexCounter.cpp b/syncd/FlexCounter.cpp</span>
<span class="bold">index 4352efd..52be5c7 100644</span>
<span class="bold">--- a/syncd/FlexCounter.cpp</span>
<span class="bold">+++ b/syncd/FlexCounter.cpp</span>
<span class="f6">@@ -999,6 +999,8 @@</span> public:
     }
 };
 
<span class="f2">+OTN_SPECIALIZATION_IMPLEMENT();</span>
<span class="f2">+</span>
 FlexCounter::FlexCounter(
         _In_ const std::string&amp; instanceId,
         _In_ std::shared_ptr&lt;sairedis::SaiInterface&gt; vendorSai,
<span class="f6">@@ -1014,6 +1016,10 @@</span> FlexCounter::FlexCounter(
     m_enable = false;
     m_isDiscarded = false;
 
<span class="f2">+    m_flexCounterOtai = make_shared&lt;FlexCounterOtai&gt;(</span>
<span class="f2">+            std::bind(&amp;FlexCounter::getCounterContext, this, std::placeholders::_1),</span>
<span class="f2">+            std::bind(&amp;FlexCounter::hasCounterContext, this, std::placeholders::_1));</span>
<span class="f2">+</span>
     startFlexCounterThread();
 }
 
<span class="f6">@@ -1165,6 +1171,11 @@</span> void FlexCounter::addCounterPlugin(
         }
         else
         {
<span class="f2">+            if (m_flexCounterOtai-&gt;addCounterPlugin(field, shaStrings))</span>
<span class="f2">+            {</span>
<span class="f2">+                continue;</span>
<span class="f2">+            }</span>
<span class="f2">+</span>
             SWSS_LOG_ERROR(&quot;Field is not supported %s&quot;, field.c_str());
         }
     }
<span class="f6">@@ -1314,6 +1325,13 @@</span> std::shared_ptr&lt;BaseCounterContext&gt; FlexCounter::createCounterContext(
         return std::make_shared&lt;AttrContext&lt;sai_acl_counter_attr_t&gt;&gt;(context_name, SAI_OBJECT_TYPE_ACL_COUNTER, m_vendorSai.get(), m_statsMode);
     }
 
<span class="f2">+    // Create OTN counter context here</span>
<span class="f2">+    auto otn_context = createOtaiCounterContext(context_name, m_vendorSai, m_statsMode);</span>
<span class="f2">+    if (otn_context != nullptr)</span>
<span class="f2">+    {</span>
<span class="f2">+        return otn_context;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
     SWSS_LOG_THROW(&quot;Invalid counter type %s&quot;, context_name.c_str());
     // GCC 8.3 requires a return value here
     return nullptr;
<span class="f6">@@ -1582,6 +1600,11 @@</span> void FlexCounter::removeCounter(
     }
     else
     {
<span class="f2">+        if (m_flexCounterOtai-&gt;removeCounter(vid, objectType))</span>
<span class="f2">+        {</span>
<span class="f2">+            return;</span>
<span class="f2">+        }</span>
<span class="f2">+</span>
         SWSS_LOG_ERROR(&quot;Object type for removal not supported, %s&quot;,
                 sai_serialize_object_type(objectType).c_str());
     }
<span class="f6">@@ -1732,6 +1755,11 @@</span> void FlexCounter::addCounter(
         }
         else
         {
<span class="f2">+            if (m_flexCounterOtai-&gt;addCounter(vid, rid, objectType, field, idStrings))</span>
<span class="f2">+            {</span>
<span class="f2">+                continue;</span>
<span class="f2">+            }</span>
<span class="f2">+</span>
             SWSS_LOG_ERROR(&quot;Object type and field combination is not supported, object type %s, field %s&quot;,
                     sai_serialize_object_type(objectType).c_str(),
                     field.c_str());
<span class="bold">diff --git a/syncd/FlexCounter.h b/syncd/FlexCounter.h</span>
<span class="bold">index 0ed9c8b..b2527fe 100644</span>
<span class="bold">--- a/syncd/FlexCounter.h</span>
<span class="bold">+++ b/syncd/FlexCounter.h</span>
<span class="f6">@@ -5,6 +5,7 @@</span> extern &quot;C&quot; {
 }
 
 #include &quot;meta/SaiInterface.h&quot;
<span class="f2">+#include &quot;FlexCounterOtai.h&quot;</span>
 
 #include &quot;swss/table.h&quot;
 
<span class="f6">@@ -168,5 +169,7 @@</span> namespace syncd
             bool m_isDiscarded;
 
             std::map&lt;std::string, std::shared_ptr&lt;BaseCounterContext&gt;&gt; m_counterContext;
<span class="f2">+</span>
<span class="f2">+            std::shared_ptr&lt;FlexCounterOtai&gt; m_flexCounterOtai;</span>
     };
 }
<span class="bold">diff --git a/syncd/FlexCounterOtai.cpp b/syncd/FlexCounterOtai.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..8ec354d</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/syncd/FlexCounterOtai.cpp</span>
<span class="f6">@@ -0,0 +1,184 @@</span>
<span class="f2">+#include &quot;FlexCounterOtai.h&quot;</span>
<span class="f2">+#include &quot;FlexCounter.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+using namespace syncd;</span>
<span class="f2">+using namespace std;</span>
<span class="f2">+</span>
<span class="f2">+</span>
<span class="f2">+const std::string FlexCounterOtai::COUNTER_TYPE_ATTENUATOR_STATS = &quot;Attenuator Stats Counter&quot;;</span>
<span class="f2">+const std::string FlexCounterOtai::COUNTER_TYPE_OA_STATS = &quot;OA Stats Counter&quot;;</span>
<span class="f2">+const std::string FlexCounterOtai::COUNTER_TYPE_OCM_STATS = &quot;OCM Stats Counter&quot;;</span>
<span class="f2">+const std::string FlexCounterOtai::COUNTER_TYPE_OSC_STATS = &quot;OSC Stats Counter&quot;;</span>
<span class="f2">+const std::string FlexCounterOtai::COUNTER_TYPE_OTDR_STATS = &quot;OTDR Stats Counter&quot;;</span>
<span class="f2">+</span>
<span class="f2">+</span>
<span class="f2">+FlexCounterOtai::FlexCounterOtai(</span>
<span class="f2">+        std::function&lt;std::shared_ptr&lt;BaseCounterContext&gt;(_In_ const std::string &amp;name)&gt; getCounterContext,</span>
<span class="f2">+        std::function&lt;bool(_In_ const std::string &amp;name)&gt; hasCounterContext):</span>
<span class="f2">+m_getCounterContext(getCounterContext),</span>
<span class="f2">+m_hasCounterContext(hasCounterContext)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+FlexCounterOtai::~FlexCounterOtai()</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+bool FlexCounterOtai::addCounter(</span>
<span class="f2">+        _In_ sai_object_id_t vid,</span>
<span class="f2">+        _In_ sai_object_id_t rid,</span>
<span class="f2">+        _In_ sai_object_type_t objectType,</span>
<span class="f2">+        _In_ const std::string &amp;field,</span>
<span class="f2">+        _In_ const std::vector&lt;std::string&gt; &amp;idStrings)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_object_type_extensions_t extObjectType = (sai_object_type_extensions_t)objectType;</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_ATTENUATOR &amp;&amp; field == ATTENUATOR_COUNTER_STATS_LIST)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_ATTENUATOR_STATS)-&gt;addObject(</span>
<span class="f2">+                vid,</span>
<span class="f2">+                rid,</span>
<span class="f2">+                idStrings,</span>
<span class="f2">+                &quot;&quot;);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OA &amp;&amp; field == OA_COUNTER_STATS_LIST)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OA_STATS)-&gt;addObject(</span>
<span class="f2">+                vid,</span>
<span class="f2">+                rid,</span>
<span class="f2">+                idStrings,</span>
<span class="f2">+                &quot;&quot;);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OCM &amp;&amp; field == OCM_COUNTER_STATS_LIST)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OCM_STATS)-&gt;addObject(</span>
<span class="f2">+                vid,</span>
<span class="f2">+                rid,</span>
<span class="f2">+                idStrings,</span>
<span class="f2">+                &quot;&quot;);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OSC &amp;&amp; field == OSC_COUNTER_STATS_LIST)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OSC_STATS)-&gt;addObject(</span>
<span class="f2">+                vid,</span>
<span class="f2">+                rid,</span>
<span class="f2">+                idStrings,</span>
<span class="f2">+                &quot;&quot;);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OTDR &amp;&amp; field == OTDR_COUNTER_STATS_LIST)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OTDR_STATS)-&gt;addObject(</span>
<span class="f2">+                vid,</span>
<span class="f2">+                rid,</span>
<span class="f2">+                idStrings,</span>
<span class="f2">+                &quot;&quot;);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span><span class="b1">    </span>
<span class="f2">+    return false;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+bool FlexCounterOtai::removeCounter(</span>
<span class="f2">+        _In_ sai_object_id_t vid,</span>
<span class="f2">+        _In_ sai_object_type_t objectType)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    sai_object_type_extensions_t extObjectType = (sai_object_type_extensions_t)objectType;</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_ATTENUATOR)</span>
<span class="f2">+    {</span>
<span class="f2">+        if (m_hasCounterContext(COUNTER_TYPE_ATTENUATOR_STATS))</span>
<span class="f2">+        {</span>
<span class="f2">+            m_getCounterContext(COUNTER_TYPE_ATTENUATOR_STATS)-&gt;removeObject(vid);</span>
<span class="f2">+        }</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OA)</span>
<span class="f2">+    {</span>
<span class="f2">+        if (m_hasCounterContext(COUNTER_TYPE_OA_STATS))</span>
<span class="f2">+        {</span>
<span class="f2">+            m_getCounterContext(COUNTER_TYPE_OA_STATS)-&gt;removeObject(vid);</span>
<span class="f2">+        }</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OCM)</span>
<span class="f2">+    {</span>
<span class="f2">+        if (m_hasCounterContext(COUNTER_TYPE_OCM_STATS))</span>
<span class="f2">+        {</span>
<span class="f2">+            m_getCounterContext(COUNTER_TYPE_OCM_STATS)-&gt;removeObject(vid);</span>
<span class="f2">+        }</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OSC)</span>
<span class="f2">+    {</span>
<span class="f2">+        if (m_hasCounterContext(COUNTER_TYPE_OSC_STATS))</span>
<span class="f2">+        {</span>
<span class="f2">+            m_getCounterContext(COUNTER_TYPE_OSC_STATS)-&gt;removeObject(vid);</span>
<span class="f2">+        }</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (extObjectType == SAI_OBJECT_TYPE_OTAI_OTDR)</span>
<span class="f2">+    {</span>
<span class="f2">+        if (m_hasCounterContext(COUNTER_TYPE_OTDR_STATS))</span>
<span class="f2">+        {</span>
<span class="f2">+            m_getCounterContext(COUNTER_TYPE_OTDR_STATS)-&gt;removeObject(vid);</span>
<span class="f2">+        }</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span><span class="b1">    </span>
<span class="f2">+    return false;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+bool FlexCounterOtai::addCounterPlugin(</span>
<span class="f2">+        _In_ const std::string &amp;field,</span>
<span class="f2">+        _In_ const std::vector&lt;std::string&gt; &amp;shaStrings)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    if (field == ATTENUATOR_STATS_PLUGIN_FIELD)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_ATTENUATOR_STATS)-&gt;addPlugins(shaStrings);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (field == OA_STATS_PLUGIN_FIELD)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OA_STATS)-&gt;addPlugins(shaStrings);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (field == OCM_STATS_PLUGIN_FIELD)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OCM_STATS)-&gt;addPlugins(shaStrings);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (field == OSC_STATS_PLUGIN_FIELD)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OSC_STATS)-&gt;addPlugins(shaStrings);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    if (field == OTDR_STATS_PLUGIN_FIELD)</span>
<span class="f2">+    {</span>
<span class="f2">+        m_getCounterContext(COUNTER_TYPE_OTDR_STATS)-&gt;addPlugins(shaStrings);</span>
<span class="f2">+        return true;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    return false;</span>
<span class="f2">+}</span>
\ No newline at end of file
<span class="bold">diff --git a/syncd/FlexCounterOtai.h b/syncd/FlexCounterOtai.h</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..ca7b143</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/syncd/FlexCounterOtai.h</span>
<span class="f6">@@ -0,0 +1,95 @@</span>
<span class="f2">+#pragma once</span>
<span class="f2">+</span>
<span class="f2">+extern &quot;C&quot; {</span>
<span class="f2">+#include &quot;sai.h&quot;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+#include &quot;meta/SaiInterface.h&quot;</span>
<span class="f2">+#include &quot;meta/otai_serialize.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+#include &lt;functional&gt;</span>
<span class="f2">+#include &lt;memory&gt;</span>
<span class="f2">+#include &lt;vector&gt;</span>
<span class="f2">+</span>
<span class="f2">+namespace syncd</span>
<span class="f2">+{</span>
<span class="f2">+    class BaseCounterContext;</span>
<span class="f2">+</span>
<span class="f2">+    class FlexCounterOtai</span>
<span class="f2">+    {</span>
<span class="f2">+    public:</span>
<span class="f2">+        FlexCounterOtai(</span>
<span class="f2">+                std::function&lt;std::shared_ptr&lt;BaseCounterContext&gt;(_In_ const std::string &amp;name)&gt; getCounterContext,</span>
<span class="f2">+                std::function&lt;bool(_In_ const std::string &amp;name)&gt; hasCounterContext);</span>
<span class="f2">+        virtual ~FlexCounterOtai();</span>
<span class="f2">+</span>
<span class="f2">+        bool addCounter(</span>
<span class="f2">+                _In_ sai_object_id_t vid,</span>
<span class="f2">+                _In_ sai_object_id_t rid,</span>
<span class="f2">+                _In_ sai_object_type_t objectType,</span>
<span class="f2">+                _In_ const std::string &amp;field,</span>
<span class="f2">+                _In_ const std::vector&lt;std::string&gt; &amp;idStrings);</span>
<span class="f2">+</span>
<span class="f2">+        bool removeCounter(</span>
<span class="f2">+                _In_ sai_object_id_t vid,</span>
<span class="f2">+                _In_ sai_object_type_t objectType);</span>
<span class="f2">+</span>
<span class="f2">+        bool addCounterPlugin(</span>
<span class="f2">+                _In_ const std::string &amp;field,</span>
<span class="f2">+                _In_ const std::vector&lt;std::string&gt; &amp;shaStrings);</span>
<span class="f2">+</span>
<span class="f2">+    public:</span>
<span class="f2">+        static const std::string COUNTER_TYPE_ATTENUATOR_STATS;</span>
<span class="f2">+        static const std::string COUNTER_TYPE_OA_STATS;</span>
<span class="f2">+        static const std::string COUNTER_TYPE_OCM_STATS;</span>
<span class="f2">+        static const std::string COUNTER_TYPE_OSC_STATS;</span>
<span class="f2">+        static const std::string COUNTER_TYPE_OTDR_STATS;</span>
<span class="f2">+</span>
<span class="f2">+    private:</span>
<span class="f2">+        std::function&lt;std::shared_ptr&lt;BaseCounterContext&gt;(_In_ const std::string &amp;name)&gt; m_getCounterContext;</span>
<span class="f2">+        std::function&lt;bool(_In_ const std::string &amp;name)&gt; m_hasCounterContext;</span>
<span class="f2">+    };</span>
<span class="f2">+</span>
<span class="f2">+</span>
<span class="f2">+    #define OTN_SPECIALIZATION_IMPLEMENT()                          \</span>
<span class="f2">+    std::shared_ptr&lt;BaseCounterContext&gt; createOtaiCounterContext(    \</span>
<span class="f2">+            _In_ const std::string &amp;context_name,                   \</span>
<span class="f2">+            _In_ std::shared_ptr&lt;sairedis::SaiInterface&gt; vendorSai, \</span>
<span class="f2">+            _In_ sai_stats_mode_t statsMode)                        \</span>
<span class="f2">+    {                                                               \</span>
<span class="f2">+        SWSS_LOG_ENTER();                                           \</span>
<span class="f2">+        if (context_name == FlexCounterOtai::COUNTER_TYPE_ATTENUATOR_STATS)\</span>
<span class="f2">+        {                                                           \</span>
<span class="f2">+            return std::make_shared&lt;CounterContext&lt;sai_otai_attenuator_stat_t&gt;&gt;(context_name, (sai_object_type_t)SAI_OBJECT_TYPE_OTAI_ATTENUATOR, vendorSai.get(), statsMode);\
+        }                                                           \</span>
<span class="f2">+                                                                    \</span>
<span class="f2">+        return nullptr;                                             \</span>
<span class="f2">+    }                                                               \</span>
<span class="f2">+                                                                    \</span>
<span class="f2">+    template &lt;&gt;                                                     \</span>
<span class="f2">+    std::string serializeStat(                                      \</span>
<span class="f2">+            _In_ const sai_otai_attenuator_stat_t stat)             \</span>
<span class="f2">+    {                                                               \</span>
<span class="f2">+        SWSS_LOG_ENTER();                                           \</span>
<span class="f2">+        return sai_serialize_otai_attenuator_stat(stat);            \</span>
<span class="f2">+    }                                                               \</span>
<span class="f2">+                                                                    \</span>
<span class="f2">+    template &lt;&gt;                                                     \</span>
<span class="f2">+    void deserializeStat(                                           \</span>
<span class="f2">+            _In_ const char *name,                                  \</span>
<span class="f2">+            _Out_ sai_otai_attenuator_stat_t *stat)                 \</span>
<span class="f2">+    {                                                               \</span>
<span class="f2">+        SWSS_LOG_ENTER();                                           \</span>
<span class="f2">+         sai_deserialize_otai_attenuator_stat(name, stat);          \</span>
<span class="f2">+    }                                                               \</span>
<span class="f2">+                                                                    \</span>
<span class="f2">+    template &lt;&gt;                                                     \</span>
<span class="f2">+    void deserializeAttr(                                           \</span>
<span class="f2">+            _In_ const std::string &amp;name,                           \</span>
<span class="f2">+            _Out_ sai_otai_attenuator_attr_t &amp;attr)                 \</span>
<span class="f2">+    {                                                               \</span>
<span class="f2">+        SWSS_LOG_ENTER();                                           \</span>
<span class="f2">+        sai_deserialize_otai_attenuator_attr(name, attr);           \</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+}</span>
\ No newline at end of file
<span class="bold">diff --git a/syncd/Makefile.am b/syncd/Makefile.am</span>
<span class="bold">index d341311..3a0e641 100644</span>
<span class="bold">--- a/syncd/Makefile.am</span>
<span class="bold">+++ b/syncd/Makefile.am</span>
<span class="f6">@@ -55,7 +55,9 @@</span> libSyncd_a_SOURCES = \
 				WatchdogScope.cpp \
 				Workaround.cpp \
 				ZeroMQNotificationProducer.cpp \
<span class="f1">-				syncd_main.cpp</span>
<span class="f2">+</span>				<span class="f2">syncd_main.cpp \</span>
<span class="f2">+</span>				<span class="f2">FlexCounterOtai.cpp \</span>
<span class="f2">+</span>				<span class="f2">VendorOtai.cpp</span>
 
 libSyncd_a_CPPFLAGS = $(CODE_COVERAGE_CPPFLAGS)
 libSyncd_a_CXXFLAGS = $(DBGFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS_COMMON) $(CODE_COVERAGE_CXXFLAGS)
<span class="bold">diff --git a/syncd/VendorOtai.cpp b/syncd/VendorOtai.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..6c626a7</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/syncd/VendorOtai.cpp</span>
<span class="f6">@@ -0,0 +1,94 @@</span>
<span class="f2">+#include &quot;VendorOtai.h&quot;</span>
<span class="f2">+#include &quot;swss/logger.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+using namespace syncd;</span>
<span class="f2">+</span>
<span class="f2">+void *VendorOtai::getStats(</span>
<span class="f2">+        _In_ sai_apis_t &amp;apis,</span>
<span class="f2">+        _In_ sai_object_type_t objectType)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    switch ((int)objectType)</span>
<span class="f2">+    {</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_ATTENUATOR:</span>
<span class="f2">+            return (void *)(apis.otai_attenuator_api-&gt;get_otai_attenuator_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OA:</span>
<span class="f2">+            return (void *)(apis.otai_oa_api-&gt;get_otai_oa_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OCM:</span>
<span class="f2">+            return (void *)(apis.otai_ocm_api-&gt;get_otai_ocm_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OSC:</span>
<span class="f2">+            return (void *)(apis.otai_osc_api-&gt;get_otai_osc_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OTDR:</span>
<span class="f2">+            return (void *)(apis.otai_otdr_api-&gt;get_otai_otdr_stats);</span>
<span class="f2">+</span>
<span class="f2">+        default:</span>
<span class="f2">+            break;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    return nullptr;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void *VendorOtai::getStatsExt(</span>
<span class="f2">+        _In_ sai_apis_t &amp;apis,</span>
<span class="f2">+        _In_ sai_object_type_t objectType)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    switch ((int)objectType)</span>
<span class="f2">+    {</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_ATTENUATOR:</span>
<span class="f2">+            return (void *)(apis.otai_attenuator_api-&gt;get_otai_attenuator_stats_ext);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OA:</span>
<span class="f2">+            return (void *)(apis.otai_oa_api-&gt;get_otai_oa_stats_ext);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OCM:</span>
<span class="f2">+            return (void *)(apis.otai_ocm_api-&gt;get_otai_ocm_stats_ext);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OSC:</span>
<span class="f2">+            return (void *)(apis.otai_osc_api-&gt;get_otai_osc_stats_ext);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OTDR:</span>
<span class="f2">+            return (void *)(apis.otai_otdr_api-&gt;get_otai_otdr_stats_ext);</span>
<span class="f2">+</span>
<span class="f2">+        default:</span>
<span class="f2">+            break;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    return nullptr;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+void *VendorOtai::clearStats(</span>
<span class="f2">+        _In_ sai_apis_t &amp;apis,</span>
<span class="f2">+        _In_ sai_object_type_t objectType)</span>
<span class="f2">+{</span>
<span class="f2">+    SWSS_LOG_ENTER();</span>
<span class="f2">+</span>
<span class="f2">+    switch ((int)objectType)</span>
<span class="f2">+    {</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_ATTENUATOR:</span>
<span class="f2">+            return (void *)(apis.otai_attenuator_api-&gt;clear_otai_attenuator_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OA:</span>
<span class="f2">+            return (void *)(apis.otai_oa_api-&gt;clear_otai_oa_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OCM:</span>
<span class="f2">+            return (void *)(apis.otai_ocm_api-&gt;clear_otai_ocm_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OSC:</span>
<span class="f2">+            return (void *)(apis.otai_osc_api-&gt;clear_otai_osc_stats);</span>
<span class="f2">+</span>
<span class="f2">+        case SAI_OBJECT_TYPE_OTAI_OTDR:</span>
<span class="f2">+            return (void *)(apis.otai_otdr_api-&gt;clear_otai_otdr_stats);</span>
<span class="f2">+</span>
<span class="f2">+        default:</span>
<span class="f2">+            break;</span>
<span class="f2">+    }</span>
<span class="f2">+</span>
<span class="f2">+    return nullptr;</span>
<span class="f2">+}</span>
<span class="bold">diff --git a/syncd/VendorOtai.h b/syncd/VendorOtai.h</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..864f41f</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/syncd/VendorOtai.h</span>
<span class="f6">@@ -0,0 +1,30 @@</span>
<span class="f2">+#pragma once</span>
<span class="f2">+</span>
<span class="f2">+extern &quot;C&quot; {</span>
<span class="f2">+#include &quot;sai.h&quot;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+#include &quot;meta/SaiInterface.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+namespace syncd</span>
<span class="f2">+{</span>
<span class="f2">+    class VendorOtai</span>
<span class="f2">+    {</span>
<span class="f2">+    public:</span>
<span class="f2">+        VendorOtai() = default;</span>
<span class="f2">+        ~VendorOtai() = default;</span>
<span class="f2">+</span>
<span class="f2">+        static void *getStats(</span>
<span class="f2">+                _In_ sai_apis_t &amp;apis,</span>
<span class="f2">+                _In_ sai_object_type_t objectType);</span>
<span class="f2">+</span><span class="b1">        </span>
<span class="f2">+        static void *getStatsExt(</span>
<span class="f2">+                _In_ sai_apis_t &amp;apis,</span>
<span class="f2">+                _In_ sai_object_type_t objectType);</span>
<span class="f2">+</span>
<span class="f2">+        static void *clearStats(</span>
<span class="f2">+                _In_ sai_apis_t &amp;apis,</span>
<span class="f2">+                _In_ sai_object_type_t objectType);</span>
<span class="f2">+</span>
<span class="f2">+    };</span>
<span class="f2">+}</span>
\ No newline at end of file
<span class="bold">diff --git a/syncd/VendorSai.cpp b/syncd/VendorSai.cpp</span>
<span class="bold">index a0234aa..52c0635 100644</span>
<span class="bold">--- a/syncd/VendorSai.cpp</span>
<span class="bold">+++ b/syncd/VendorSai.cpp</span>
<span class="f6">@@ -4,6 +4,7 @@</span>
 #include &quot;meta/sai_serialize.h&quot;
 
 #include &quot;swss/logger.h&quot;
<span class="f2">+#include &quot;VendorOtai.h&quot;</span>
 
 #include &lt;cinttypes&gt;
 #include &lt;cstring&gt;
<span class="f6">@@ -498,6 +499,24 @@</span> sai_status_t VendorSai::bulkCreate(
             break;
 
         default:
<span class="f2">+            ptr = (sai_status_t (*)(sai_object_id_t, uint32_t, const sai_stat_id_t *))VendorOtai::clearStats(m_apis, object_type);</span>
<span class="f2">+            if (ptr != nullptr)</span>
<span class="f2">+            {</span>
<span class="f2">+                break;</span>
<span class="f2">+            }</span>
<span class="f2">+</span>
<span class="f2">+            ptr = (sai_status_t (*)(sai_object_id_t, uint32_t, const sai_stat_id_t *, sai_stats_mode_t, uint64_t *))VendorOtai::getStatsExt(m_apis, object_type);</span>
<span class="f2">+            if (ptr != nullptr)</span>
<span class="f2">+            {</span>
<span class="f2">+                break;</span>
<span class="f2">+            }</span>
<span class="f2">+</span>
<span class="f2">+            ptr = (sai_status_t (*)(sai_object_id_t, uint32_t, const sai_stat_id_t *, uint64_t *))VendorOtai::getStats(m_apis, object_type);</span>
<span class="f2">+            if (ptr != nullptr)</span>
<span class="f2">+            {</span>
<span class="f2">+                break;</span>
<span class="f2">+            }</span>
<span class="f2">+</span>
             SWSS_LOG_ERROR(&quot;not implemented %s, FIXME&quot;, sai_serialize_object_type(object_type).c_str());
             return SAI_STATUS_NOT_IMPLEMENTED;
     }
<span class="bold">diff --git a/syncd/scripts/syncd_init_common.sh b/syncd/scripts/syncd_init_common.sh</span>
<span class="bold">index 214d3b1..dd82a16 100644</span>
<span class="bold">--- a/syncd/scripts/syncd_init_common.sh</span>
<span class="bold">+++ b/syncd/scripts/syncd_init_common.sh</span>
<span class="f6">@@ -437,6 +437,8 @@</span> config_syncd()
         config_syncd_nvidia_bluefield
     elif [ &quot;$SONIC_ASIC_TYPE&quot; == &quot;xsight&quot; ]; then
         config_syncd_xsight
<span class="f2">+    elif [ &quot;$SONIC_ASIC_TYPE&quot; == &quot;ot-kvm&quot; ]; then</span>
<span class="f2">+        config_syncd_vs</span>
     else
         echo &quot;Unknown ASIC type $SONIC_ASIC_TYPE&quot;
         exit 1
<span class="bold">diff --git a/vslib/Makefile.am b/vslib/Makefile.am</span>
<span class="bold">index c498aca..78c4fa8 100644</span>
<span class="bold">--- a/vslib/Makefile.am</span>
<span class="bold">+++ b/vslib/Makefile.am</span>
<span class="f6">@@ -123,7 +123,12 @@</span> libsaivs_la_SOURCES = \
 					  sai_vs_ars.cpp \
 					  sai_vs_ars_profile.cpp \
 					  sai_vs_twamp.cpp \
<span class="f1">-					  sai_vs_dash_meter.cpp</span>
<span class="f2">+</span>					<span class="f2">  sai_vs_dash_meter.cpp \</span>
<span class="f2">+</span>					<span class="f2">  otai_vs_attenuator.cpp \</span>
<span class="f2">+</span>					<span class="f2">  otai_vs_oa.cpp \</span>
<span class="f2">+</span>					<span class="f2">  otai_vs_ocm.cpp \</span>
<span class="f2">+</span>					<span class="f2">  otai_vs_osc.cpp \</span>
<span class="f2">+</span>					<span class="f2">  otai_vs_otdr.cpp</span>
 
 libSaiVS_a_CPPFLAGS = $(CODE_COVERAGE_CPPFLAGS)
 libSaiVS_a_CXXFLAGS = $(DBGFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS_COMMON) $(CODE_COVERAGE_CXXFLAGS)
<span class="bold">diff --git a/vslib/otai_vs_api.h b/vslib/otai_vs_api.h</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..a709e60</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/vslib/otai_vs_api.h</span>
<span class="f6">@@ -0,0 +1,22 @@</span>
<span class="f2">+#pragma once</span>
<span class="f2">+</span>
<span class="f2">+extern &quot;C&quot; {</span>
<span class="f2">+#include &quot;sai.h&quot;</span>
<span class="f2">+#include &quot;saiextensions.h&quot;</span>
<span class="f2">+}</span>
<span class="f2">+</span>
<span class="f2">+#define OTAI_API_DECLARE(type) \</span>
<span class="f2">+PRIVATE extern const sai_otai_attenuator_api_t              type ## _otai_attenuator_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_oa_api_t                      type ## _otai_oa_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_ocm_api_t                     type ## _otai_ocm_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_osc_api_t                     type ## _otai_osc_api;\</span>
<span class="f2">+PRIVATE extern const sai_otai_otdr_api_t                    type ## _otai_otdr_api;</span>
<span class="f2">+</span>
<span class="f2">+</span>
<span class="f2">+#define OTAI_API_BIND() \</span>
<span class="f2">+    API(otai_attenuator),\</span>
<span class="f2">+    API(otai_oa),\</span>
<span class="f2">+    API(otai_ocm),\</span>
<span class="f2">+    API(otai_osc),\</span>
<span class="f2">+    API(otai_otdr),</span>
<span class="f2">+</span>
<span class="bold">diff --git a/vslib/otai_vs_attenuator.cpp b/vslib/otai_vs_attenuator.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..af7a9a9</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/vslib/otai_vs_attenuator.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;vslib/sai_vs.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+VS_GENERIC_QUAD(OTAI_ATTENUATOR, otai_attenuator);</span>
<span class="f2">+VS_GENERIC_STATS(OTAI_ATTENUATOR, otai_attenuator);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_attenuator_api_t vs_otai_attenuator_api = {</span>
<span class="f2">+</span>
<span class="f2">+    VS_GENERIC_QUAD_API(otai_attenuator)</span>
<span class="f2">+    VS_GENERIC_STATS_API(otai_attenuator)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/vslib/otai_vs_oa.cpp b/vslib/otai_vs_oa.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..4196c99</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/vslib/otai_vs_oa.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;vslib/sai_vs.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+VS_GENERIC_QUAD(OTAI_OA, otai_oa);</span>
<span class="f2">+VS_GENERIC_STATS(OTAI_OA, otai_oa);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_oa_api_t vs_otai_oa_api = {</span>
<span class="f2">+</span>
<span class="f2">+    VS_GENERIC_QUAD_API(otai_oa)</span>
<span class="f2">+    VS_GENERIC_STATS_API(otai_oa)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/vslib/otai_vs_ocm.cpp b/vslib/otai_vs_ocm.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..e1a630f</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/vslib/otai_vs_ocm.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;vslib/sai_vs.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+VS_GENERIC_QUAD(OTAI_OCM, otai_ocm);</span>
<span class="f2">+VS_GENERIC_STATS(OTAI_OCM, otai_ocm);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_ocm_api_t vs_otai_ocm_api = {</span>
<span class="f2">+</span>
<span class="f2">+    VS_GENERIC_QUAD_API(otai_ocm)</span>
<span class="f2">+    VS_GENERIC_STATS_API(otai_ocm)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/vslib/otai_vs_osc.cpp b/vslib/otai_vs_osc.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..94b5bee</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/vslib/otai_vs_osc.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;vslib/sai_vs.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+VS_GENERIC_QUAD(OTAI_OSC, otai_osc);</span>
<span class="f2">+VS_GENERIC_STATS(OTAI_OSC, otai_osc);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_osc_api_t vs_otai_osc_api = {</span>
<span class="f2">+</span>
<span class="f2">+    VS_GENERIC_QUAD_API(otai_osc)</span>
<span class="f2">+    VS_GENERIC_STATS_API(otai_osc)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/vslib/otai_vs_otdr.cpp b/vslib/otai_vs_otdr.cpp</span>
<span class="bold">new file mode 100644</span>
<span class="bold">index 0000000..7e2545d</span>
<span class="bold">--- /dev/null</span>
<span class="bold">+++ b/vslib/otai_vs_otdr.cpp</span>
<span class="f6">@@ -0,0 +1,10 @@</span>
<span class="f2">+#include &quot;vslib/sai_vs.h&quot;</span>
<span class="f2">+</span>
<span class="f2">+VS_GENERIC_QUAD(OTAI_OTDR, otai_otdr);</span>
<span class="f2">+VS_GENERIC_STATS(OTAI_OTDR, otai_otdr);</span>
<span class="f2">+</span>
<span class="f2">+const sai_otai_otdr_api_t vs_otai_otdr_api = {</span>
<span class="f2">+</span>
<span class="f2">+    VS_GENERIC_QUAD_API(otai_otdr)</span>
<span class="f2">+    VS_GENERIC_STATS_API(otai_otdr)</span>
<span class="f2">+};</span>
\ No newline at end of file
<span class="bold">diff --git a/vslib/sai_vs.h b/vslib/sai_vs.h</span>
<span class="bold">index 485f9a5..307aa4b 100644</span>
<span class="bold">--- a/vslib/sai_vs.h</span>
<span class="bold">+++ b/vslib/sai_vs.h</span>
<span class="f6">@@ -6,6 +6,7 @@</span> extern &quot;C&quot; {
 }
 
 #include &quot;meta/SaiInterface.h&quot;
<span class="f2">+#include &quot;otai_vs_api.h&quot;</span>
 
 #include &quot;swss/logger.h&quot;
 
<span class="f6">@@ -75,6 +76,8 @@</span> PRIVATE extern const sai_ipsec_api_t                   vs_ipsec_api;
 PRIVATE extern const sai_twamp_api_t                   vs_twamp_api;
 PRIVATE extern const sai_dash_meter_api_t              vs_dash_meter_api;
 
<span class="f2">+OTAI_API_DECLARE(vs);</span>
<span class="f2">+</span>
 PRIVATE extern std::shared_ptr&lt;sairedis::SaiInterface&gt;      vs_sai;
 
 // QUAD OID
<span class="bold">diff --git a/vslib/sai_vs_interfacequery.cpp b/vslib/sai_vs_interfacequery.cpp</span>
<span class="bold">index 338e029..5f3e699 100644</span>
<span class="bold">--- a/vslib/sai_vs_interfacequery.cpp</span>
<span class="bold">+++ b/vslib/sai_vs_interfacequery.cpp</span>
<span class="f6">@@ -92,6 +92,7 @@</span> static sai_apis_t vs_apis = {
     API(dash_vnet),
     API(dash_pa_validation),
     API(dash_vip),
<span class="f2">+    OTAI_API_BIND()</span>
 };
 
 static_assert((sizeof(sai_apis_t)/sizeof(void*)) == (SAI_API_EXTENSIONS_MAX - 1));
</pre>
</body>
</html>
